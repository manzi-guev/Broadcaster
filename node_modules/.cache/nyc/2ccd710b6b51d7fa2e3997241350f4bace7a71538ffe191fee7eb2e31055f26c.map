{"version":3,"sources":["validation.middleware.js"],"names":["signUp","req","res","next","schema","firstname","Joi","string","strict","trim","required","lastname","email","phonenumber","username","password","output","validate","body","error","status","json","details","message","user","signIn","createRedflag","title","comment","location","images","videos","editcomment","editlocation"],"mappings":"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","file":"validation.middleware.js","sourceRoot":"C:/Users/CharisUAS/Desktop/Broadcaster/server/v2/middleware","sourcesContent":["/* eslint-disable consistent-return */\r\n/* eslint-disable node/no-unsupported-features/es-syntax */\r\nimport Joi from '@hapi/joi';\r\n\r\nconst signUp = (req, res, next) => {\r\n  const schema = {\r\n    firstname: Joi.string()\r\n      .strict()\r\n      .trim()\r\n      .required(),\r\n    lastname: Joi.string()\r\n      .strict()\r\n      .trim()\r\n      .required(),\r\n    email: Joi.string()\r\n      .strict()\r\n      .trim()\r\n      .required()\r\n      .email(),\r\n    phonenumber: Joi.string()\r\n      .strict()\r\n      .required()\r\n      .trim(),\r\n    username: Joi.string()\r\n      .strict()\r\n      .required()\r\n      .trim(),\r\n    password: Joi.string()\r\n      .strict()\r\n      .required()\r\n      .trim()\r\n  };\r\n  const output = Joi.validate(req.body, schema);\r\n  if (output.error != null) {\r\n    return res.status(400).json({\r\n      status: 400,\r\n      error: `${output.error.details[0].message}`\r\n    });\r\n  }\r\n  req.user = schema;\r\n  next();\r\n};\r\nconst signIn = (req, res, next) => {\r\n  const schema = {\r\n    email: Joi.string()\r\n      .trim()\r\n      .required()\r\n      .email(),\r\n    password: Joi.string()\r\n      .trim()\r\n      .required()\r\n  };\r\n  const output = Joi.validate(req.body, schema);\r\n  if (output.error != null) {\r\n    return res.status(400).json({\r\n      status: 400,\r\n      error: `${output.error.details[0].message}`\r\n    });\r\n  }\r\n  next();\r\n};\r\nconst createRedflag = (req, res, next) => {\r\n  const schema = {\r\n    title: Joi.string()\r\n      .strict()\r\n      .trim()\r\n      .required(),\r\n    comment: Joi.string()\r\n      .strict()\r\n      .required()\r\n      .trim(),\r\n    location: Joi.string().required(),\r\n    images: Joi.string()\r\n      .strict()\r\n      .trim()\r\n      .required(),\r\n    videos: Joi.string()\r\n      .strict()\r\n      .trim()\r\n      .required()\r\n  };\r\n  const output = Joi.validate(req.body, schema);\r\n  if (output.error != null) {\r\n    return res.status(400).json({\r\n      status: 400,\r\n      error: `${output.error.details[0].message}`\r\n    });\r\n  }\r\n  next();\r\n};\r\nconst editcomment = (req, res, next) => {\r\n  const schema = {\r\n    comment: Joi.string()\r\n      .trim()\r\n      .required()\r\n  };\r\n  const output = Joi.validate(req.body, schema);\r\n  if (output.error != null) {\r\n    return res.status(400).json({\r\n      status: 400,\r\n      error: `${output.error.details[0].message}`\r\n    });\r\n  }\r\n  next();\r\n};\r\nconst editlocation = (req, res, next) => {\r\n  const schema = {\r\n    location: Joi.string()\r\n      .trim()\r\n      .required()\r\n  };\r\n  const output = Joi.validate(req.body, schema);\r\n  if (output.error != null) {\r\n    return res.status(400).json({\r\n      status: 400,\r\n      error: `${output.error.details[0].message}`\r\n    });\r\n  }\r\n  next();\r\n};\r\nexport { signIn, signUp, createRedflag, editcomment, editlocation };\r\n"]}