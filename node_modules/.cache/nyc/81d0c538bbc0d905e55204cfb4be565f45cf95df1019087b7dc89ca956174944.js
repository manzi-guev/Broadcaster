'use strict';var cov_28uz5zu7r0=function(){var path="C:\\Users\\CharisUAS\\Desktop\\Broadcaster\\server\\middlewares\\validation.middleware.js";var hash="aa276ef06517aeb10139036cbeba42a48a2a0895";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\CharisUAS\\Desktop\\Broadcaster\\server\\middlewares\\validation.middleware.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:113}},"2":{start:{line:8,column:11},end:{line:8,column:31}},"3":{start:{line:10,column:12},end:{line:10,column:40}},"4":{start:{line:12,column:39},end:{line:12,column:93}},"5":{start:{line:14,column:13},end:{line:32,column:1}},"6":{start:{line:15,column:15},end:{line:22,column:3}},"7":{start:{line:23,column:15},end:{line:23,column:55}},"8":{start:{line:24,column:2},end:{line:29,column:3}},"9":{start:{line:25,column:4},end:{line:28,column:7}},"10":{start:{line:30,column:2},end:{line:30,column:20}},"11":{start:{line:31,column:2},end:{line:31,column:9}},"12":{start:{line:35,column:13},end:{line:48,column:1}},"13":{start:{line:36,column:15},end:{line:39,column:3}},"14":{start:{line:40,column:15},end:{line:40,column:55}},"15":{start:{line:41,column:2},end:{line:46,column:3}},"16":{start:{line:42,column:4},end:{line:45,column:7}},"17":{start:{line:47,column:2},end:{line:47,column:9}},"18":{start:{line:49,column:20},end:{line:67,column:1}},"19":{start:{line:50,column:15},end:{line:58,column:3}},"20":{start:{line:59,column:15},end:{line:59,column:55}},"21":{start:{line:60,column:2},end:{line:65,column:3}},"22":{start:{line:61,column:4},end:{line:64,column:7}},"23":{start:{line:66,column:2},end:{line:66,column:9}},"24":{start:{line:68,column:19},end:{line:80,column:1}},"25":{start:{line:69,column:15},end:{line:71,column:3}},"26":{start:{line:72,column:15},end:{line:72,column:55}},"27":{start:{line:73,column:2},end:{line:78,column:3}},"28":{start:{line:74,column:4},end:{line:77,column:7}},"29":{start:{line:79,column:2},end:{line:79,column:9}},"30":{start:{line:81,column:18},end:{line:93,column:1}},"31":{start:{line:82,column:15},end:{line:84,column:3}},"32":{start:{line:85,column:15},end:{line:85,column:55}},"33":{start:{line:86,column:2},end:{line:91,column:3}},"34":{start:{line:87,column:4},end:{line:90,column:7}},"35":{start:{line:92,column:2},end:{line:92,column:9}},"36":{start:{line:94,column:0},end:{line:94,column:24}},"37":{start:{line:95,column:0},end:{line:95,column:24}},"38":{start:{line:96,column:0},end:{line:96,column:38}},"39":{start:{line:97,column:0},end:{line:97,column:36}},"40":{start:{line:98,column:0},end:{line:98,column:34}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:37},end:{line:12,column:95}},line:12},"1":{name:"signUp",decl:{start:{line:14,column:22},end:{line:14,column:28}},loc:{start:{line:14,column:45},end:{line:32,column:1}},line:14},"2":{name:"signIn",decl:{start:{line:35,column:22},end:{line:35,column:28}},loc:{start:{line:35,column:45},end:{line:48,column:1}},line:35},"3":{name:"createRedflag",decl:{start:{line:49,column:29},end:{line:49,column:42}},loc:{start:{line:49,column:59},end:{line:67,column:1}},line:49},"4":{name:"editlocation",decl:{start:{line:68,column:28},end:{line:68,column:40}},loc:{start:{line:68,column:57},end:{line:80,column:1}},line:68},"5":{name:"editcomment",decl:{start:{line:81,column:27},end:{line:81,column:38}},loc:{start:{line:81,column:55},end:{line:93,column:1}},line:81}},branchMap:{"0":{loc:{start:{line:12,column:46},end:{line:12,column:92}},type:"cond-expr",locations:[{start:{line:12,column:70},end:{line:12,column:73}},{start:{line:12,column:76},end:{line:12,column:92}}],line:12},"1":{loc:{start:{line:12,column:46},end:{line:12,column:67}},type:"binary-expr",locations:[{start:{line:12,column:46},end:{line:12,column:49}},{start:{line:12,column:53},end:{line:12,column:67}}],line:12},"2":{loc:{start:{line:24,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:24,column:2},end:{line:29,column:3}},{start:{line:24,column:2},end:{line:29,column:3}}],line:24},"3":{loc:{start:{line:41,column:2},end:{line:46,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:46,column:3}},{start:{line:41,column:2},end:{line:46,column:3}}],line:41},"4":{loc:{start:{line:60,column:2},end:{line:65,column:3}},type:"if",locations:[{start:{line:60,column:2},end:{line:65,column:3}},{start:{line:60,column:2},end:{line:65,column:3}}],line:60},"5":{loc:{start:{line:73,column:2},end:{line:78,column:3}},type:"if",locations:[{start:{line:73,column:2},end:{line:78,column:3}},{start:{line:73,column:2},end:{line:78,column:3}}],line:73},"6":{loc:{start:{line:86,column:2},end:{line:91,column:3}},type:"if",locations:[{start:{line:86,column:2},end:{line:91,column:3}},{start:{line:86,column:2},end:{line:91,column:3}}],line:86}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"aa276ef06517aeb10139036cbeba42a48a2a0895"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_28uz5zu7r0.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_28uz5zu7r0.s[1]++;exports.editcomment=exports.editlocation=exports.createRedflag=exports.signIn=exports.signUp=undefined;var _joi=(cov_28uz5zu7r0.s[2]++,require('@hapi/joi'));var _joi2=(cov_28uz5zu7r0.s[3]++,_interopRequireDefault(_joi));function _interopRequireDefault(obj){cov_28uz5zu7r0.f[0]++;cov_28uz5zu7r0.s[4]++;return(cov_28uz5zu7r0.b[1][0]++,obj)&&(cov_28uz5zu7r0.b[1][1]++,obj.__esModule)?(cov_28uz5zu7r0.b[0][0]++,obj):(cov_28uz5zu7r0.b[0][1]++,{default:obj});}cov_28uz5zu7r0.s[5]++;var signUp=function signUp(req,res,next){cov_28uz5zu7r0.f[1]++;var schema=(cov_28uz5zu7r0.s[6]++,{firstname:_joi2.default.string().strict().trim().required(),lastname:_joi2.default.string().strict().trim().required(),email:_joi2.default.string().strict().trim().required().email(),phonenumber:_joi2.default.string().strict().required().trim(),username:_joi2.default.string().strict().required().trim(),password:_joi2.default.string().strict().required().trim()});var output=(cov_28uz5zu7r0.s[7]++,_joi2.default.validate(req.body,schema));cov_28uz5zu7r0.s[8]++;if(output.error!=null){cov_28uz5zu7r0.b[2][0]++;cov_28uz5zu7r0.s[9]++;return res.status(400).json({status:400,error:''+output.error.details[0].message});}else{cov_28uz5zu7r0.b[2][1]++;}cov_28uz5zu7r0.s[10]++;req.user=schema;cov_28uz5zu7r0.s[11]++;next();};/* eslint-disable consistent-return */ /* eslint-disable node/no-unsupported-features/es-syntax */cov_28uz5zu7r0.s[12]++;var signIn=function signIn(req,res,next){cov_28uz5zu7r0.f[2]++;var schema=(cov_28uz5zu7r0.s[13]++,{email:_joi2.default.string().trim().required().email(),password:_joi2.default.string().trim().required()});var output=(cov_28uz5zu7r0.s[14]++,_joi2.default.validate(req.body,schema));cov_28uz5zu7r0.s[15]++;if(output.error!=null){cov_28uz5zu7r0.b[3][0]++;cov_28uz5zu7r0.s[16]++;return res.status(400).json({status:400,error:''+output.error.details[0].message});}else{cov_28uz5zu7r0.b[3][1]++;}cov_28uz5zu7r0.s[17]++;next();};cov_28uz5zu7r0.s[18]++;var createRedflag=function createRedflag(req,res,next){cov_28uz5zu7r0.f[3]++;var schema=(cov_28uz5zu7r0.s[19]++,{title:_joi2.default.string().strict().trim().required(),type:_joi2.default.string().strict().required().trim(),comment:_joi2.default.string().strict().required().trim(),location:_joi2.default.string().required(),status:_joi2.default.string().strict().required().trim(),images:_joi2.default.string().trim().strict().required(),videos:_joi2.default.string().trim().strict().required()});var output=(cov_28uz5zu7r0.s[20]++,_joi2.default.validate(req.body,schema));cov_28uz5zu7r0.s[21]++;if(output.error!=null){cov_28uz5zu7r0.b[4][0]++;cov_28uz5zu7r0.s[22]++;return res.status(400).json({status:400,error:''+output.error.details[0].message});}else{cov_28uz5zu7r0.b[4][1]++;}cov_28uz5zu7r0.s[23]++;next();};cov_28uz5zu7r0.s[24]++;var editlocation=function editlocation(req,res,next){cov_28uz5zu7r0.f[4]++;var schema=(cov_28uz5zu7r0.s[25]++,{location:_joi2.default.string().trim().required()});var output=(cov_28uz5zu7r0.s[26]++,_joi2.default.validate(req.body,schema));cov_28uz5zu7r0.s[27]++;if(output.error!=null){cov_28uz5zu7r0.b[5][0]++;cov_28uz5zu7r0.s[28]++;return res.status(400).json({status:400,error:''+output.error.details[0].message});}else{cov_28uz5zu7r0.b[5][1]++;}cov_28uz5zu7r0.s[29]++;next();};cov_28uz5zu7r0.s[30]++;var editcomment=function editcomment(req,res,next){cov_28uz5zu7r0.f[5]++;var schema=(cov_28uz5zu7r0.s[31]++,{comment:_joi2.default.string().trim().required()});var output=(cov_28uz5zu7r0.s[32]++,_joi2.default.validate(req.body,schema));cov_28uz5zu7r0.s[33]++;if(output.error!=null){cov_28uz5zu7r0.b[6][0]++;cov_28uz5zu7r0.s[34]++;return res.status(400).json({status:400,error:''+output.error.details[0].message});}else{cov_28uz5zu7r0.b[6][1]++;}cov_28uz5zu7r0.s[35]++;next();};cov_28uz5zu7r0.s[36]++;exports.signUp=signUp;cov_28uz5zu7r0.s[37]++;exports.signIn=signIn;cov_28uz5zu7r0.s[38]++;exports.createRedflag=createRedflag;cov_28uz5zu7r0.s[39]++;exports.editlocation=editlocation;cov_28uz5zu7r0.s[40]++;exports.editcomment=editcomment;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRpb24ubWlkZGxld2FyZS5qcyJdLCJuYW1lcyI6WyJzaWduVXAiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2NoZW1hIiwiZmlyc3RuYW1lIiwiSm9pIiwic3RyaW5nIiwic3RyaWN0IiwidHJpbSIsInJlcXVpcmVkIiwibGFzdG5hbWUiLCJlbWFpbCIsInBob25lbnVtYmVyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm91dHB1dCIsInZhbGlkYXRlIiwiYm9keSIsImVycm9yIiwic3RhdHVzIiwianNvbiIsImRldGFpbHMiLCJtZXNzYWdlIiwidXNlciIsInNpZ25JbiIsImNyZWF0ZVJlZGZsYWciLCJ0aXRsZSIsInR5cGUiLCJjb21tZW50IiwibG9jYXRpb24iLCJpbWFnZXMiLCJ2aWRlb3MiLCJlZGl0bG9jYXRpb24iLCJlZGl0Y29tbWVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOzs7Ozs7QUFFQSxJQUFNQSxTQUFTLFNBQVRBLE1BQVMsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFDakMsTUFBTUMsU0FBUztBQUNiQyxlQUFXQyxjQUFJQyxNQUFKLEdBQ1JDLE1BRFEsR0FFUkMsSUFGUSxHQUdSQyxRQUhRLEVBREU7QUFLYkMsY0FBVUwsY0FBSUMsTUFBSixHQUNQQyxNQURPLEdBRVBDLElBRk8sR0FHUEMsUUFITyxFQUxHO0FBU2JFLFdBQU9OLGNBQUlDLE1BQUosR0FDSkMsTUFESSxHQUVKQyxJQUZJLEdBR0pDLFFBSEksR0FJSkUsS0FKSSxFQVRNO0FBY2JDLGlCQUFhUCxjQUFJQyxNQUFKLEdBQ1ZDLE1BRFUsR0FFVkUsUUFGVSxHQUdWRCxJQUhVLEVBZEE7QUFrQmJLLGNBQVVSLGNBQUlDLE1BQUosR0FDUEMsTUFETyxHQUVQRSxRQUZPLEdBR1BELElBSE8sRUFsQkc7QUFzQmJNLGNBQVVULGNBQUlDLE1BQUosR0FDUEMsTUFETyxHQUVQRSxRQUZPLEdBR1BELElBSE87QUF0QkcsR0FBZjtBQTJCQSxN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QVAsSUFBZ0IsSUFBcEIsRUFBMEI7QUFDeEIsV0FBT2pCLElBQUlrQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJELGNBQVEsR0FEa0I7QUFFMUJELGtCQUFVSCxPQUFPRyxLQUFQLENBQWFHLE9BQWIsQ0FBcUIsQ0FBckIsRUFBd0JDO0FBRlIsS0FBckIsQ0FBUDtBQUlEO0FBQ0RwQjtBQUNELENBZEQ7QUFlQSxJQUFNK0IsY0FBYyxTQUFkQSxXQUFjLENBQUNqQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUN0QyxNQUFNQyxTQUFTO0FBQ2J5QixhQUFTdkIsY0FBSUMsTUFBSixHQUNORSxJQURNLEdBRU5DLFFBRk07QUFESSxHQUFmO0FBS0EsTUFBTU0sU0FBU1YsY0FBSVcsUUFBSixDQUFhaEIsSUFBSWlCLElBQWpCLEVBQXVCZCxNQUF2QixDQUFmO0FBQ0EsTUFBSVksT0FBT0csS0FBUCxJQUFnQixJQUFwQixFQUEwQjtBQUN4QixXQUFPakIsSUFBSWtCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkQsY0FBUSxHQURrQjtBQUUxQkQsa0JBQVVILE9BQU9HLEtBQVAsQ0FBYUcsT0FBYixDQUFxQixDQUFyQixFQUF3QkM7QUFGUixLQUFyQixDQUFQO0FBSUQ7QUFDRHBCO0FBQ0QsQ0FkRDtRQWVTSCxNLEdBQUFBLE07UUFBUXlCLE0sR0FBQUEsTTtRQUFRQyxhLEdBQUFBLGE7UUFBZU8sWSxHQUFBQSxZO1FBQWNDLFcsR0FBQUEsVyIsImZpbGUiOiJ2YWxpZGF0aW9uLm1pZGRsZXdhcmUuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvQ2hhcmlzVUFTL0Rlc2t0b3AvQnJvYWRjYXN0ZXIvc2VydmVyL21pZGRsZXdhcmVzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby11bnN1cHBvcnRlZC1mZWF0dXJlcy9lcy1zeW50YXggKi9cclxuaW1wb3J0IEpvaSBmcm9tICdAaGFwaS9qb2knO1xyXG5cclxuY29uc3Qgc2lnblVwID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3Qgc2NoZW1hID0ge1xyXG4gICAgZmlyc3RuYW1lOiBKb2kuc3RyaW5nKClcclxuICAgICAgLnN0cmljdCgpXHJcbiAgICAgIC50cmltKClcclxuICAgICAgLnJlcXVpcmVkKCksXHJcbiAgICBsYXN0bmFtZTogSm9pLnN0cmluZygpXHJcbiAgICAgIC5zdHJpY3QoKVxyXG4gICAgICAudHJpbSgpXHJcbiAgICAgIC5yZXF1aXJlZCgpLFxyXG4gICAgZW1haWw6IEpvaS5zdHJpbmcoKVxyXG4gICAgICAuc3RyaWN0KClcclxuICAgICAgLnRyaW0oKVxyXG4gICAgICAucmVxdWlyZWQoKVxyXG4gICAgICAuZW1haWwoKSxcclxuICAgIHBob25lbnVtYmVyOiBKb2kuc3RyaW5nKClcclxuICAgICAgLnN0cmljdCgpXHJcbiAgICAgIC5yZXF1aXJlZCgpXHJcbiAgICAgIC50cmltKCksXHJcbiAgICB1c2VybmFtZTogSm9pLnN0cmluZygpXHJcbiAgICAgIC5zdHJpY3QoKVxyXG4gICAgICAucmVxdWlyZWQoKVxyXG4gICAgICAudHJpbSgpLFxyXG4gICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKVxyXG4gICAgICAuc3RyaWN0KClcclxuICAgICAgLnJlcXVpcmVkKClcclxuICAgICAgLnRyaW0oKVxyXG4gIH07XHJcbiAgY29uc3Qgb3V0cHV0ID0gSm9pLnZhbGlkYXRlKHJlcS5ib2R5LCBzY2hlbWEpO1xyXG4gIGlmIChvdXRwdXQuZXJyb3IgIT0gbnVsbCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgIGVycm9yOiBgJHtvdXRwdXQuZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlfWBcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXEudXNlciA9IHNjaGVtYTtcclxuICBuZXh0KCk7XHJcbn07XHJcbmNvbnN0IHNpZ25JbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnN0IHNjaGVtYSA9IHtcclxuICAgIGVtYWlsOiBKb2kuc3RyaW5nKClcclxuICAgICAgLnRyaW0oKVxyXG4gICAgICAucmVxdWlyZWQoKVxyXG4gICAgICAuZW1haWwoKSxcclxuICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKClcclxuICAgICAgLnRyaW0oKVxyXG4gICAgICAucmVxdWlyZWQoKVxyXG4gIH07XHJcbiAgY29uc3Qgb3V0cHV0ID0gSm9pLnZhbGlkYXRlKHJlcS5ib2R5LCBzY2hlbWEpO1xyXG4gIGlmIChvdXRwdXQuZXJyb3IgIT0gbnVsbCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgIGVycm9yOiBgJHtvdXRwdXQuZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlfWBcclxuICAgIH0pO1xyXG4gIH1cclxuICBuZXh0KCk7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZVJlZGZsYWcgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCBzY2hlbWEgPSB7XHJcbiAgICB0aXRsZTogSm9pLnN0cmluZygpXHJcbiAgICAgIC5zdHJpY3QoKVxyXG4gICAgICAudHJpbSgpXHJcbiAgICAgIC5yZXF1aXJlZCgpLFxyXG4gICAgdHlwZTogSm9pLnN0cmluZygpXHJcbiAgICAgIC5zdHJpY3QoKVxyXG4gICAgICAucmVxdWlyZWQoKVxyXG4gICAgICAudHJpbSgpLFxyXG4gICAgY29tbWVudDogSm9pLnN0cmluZygpXHJcbiAgICAgIC5zdHJpY3QoKVxyXG4gICAgICAucmVxdWlyZWQoKVxyXG4gICAgICAudHJpbSgpLFxyXG4gICAgbG9jYXRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgc3RhdHVzOiBKb2kuc3RyaW5nKClcclxuICAgICAgLnN0cmljdCgpXHJcbiAgICAgIC5yZXF1aXJlZCgpXHJcbiAgICAgIC50cmltKCksXHJcbiAgICBpbWFnZXM6IEpvaS5zdHJpbmcoKVxyXG4gICAgICAudHJpbSgpXHJcbiAgICAgIC5zdHJpY3QoKVxyXG4gICAgICAucmVxdWlyZWQoKSxcclxuICAgIHZpZGVvczogSm9pLnN0cmluZygpXHJcbiAgICAgIC50cmltKClcclxuICAgICAgLnN0cmljdCgpXHJcbiAgICAgIC5yZXF1aXJlZCgpXHJcbiAgfTtcclxuICBjb25zdCBvdXRwdXQgPSBKb2kudmFsaWRhdGUocmVxLmJvZHksIHNjaGVtYSk7XHJcbiAgaWYgKG91dHB1dC5lcnJvciAhPSBudWxsKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6IDQwMCxcclxuICAgICAgZXJyb3I6IGAke291dHB1dC5lcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2V9YFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIG5leHQoKTtcclxufTtcclxuY29uc3QgZWRpdGxvY2F0aW9uID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3Qgc2NoZW1hID0ge1xyXG4gICAgbG9jYXRpb246IEpvaS5zdHJpbmcoKVxyXG4gICAgICAudHJpbSgpXHJcbiAgICAgIC5yZXF1aXJlZCgpXHJcbiAgfTtcclxuICBjb25zdCBvdXRwdXQgPSBKb2kudmFsaWRhdGUocmVxLmJvZHksIHNjaGVtYSk7XHJcbiAgaWYgKG91dHB1dC5lcnJvciAhPSBudWxsKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6IDQwMCxcclxuICAgICAgZXJyb3I6IGAke291dHB1dC5lcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2V9YFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIG5leHQoKTtcclxufTtcclxuY29uc3QgZWRpdGNvbW1lbnQgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCBzY2hlbWEgPSB7XHJcbiAgICBjb21tZW50OiBKb2kuc3RyaW5nKClcclxuICAgICAgLnRyaW0oKVxyXG4gICAgICAucmVxdWlyZWQoKVxyXG4gIH07XHJcbiAgY29uc3Qgb3V0cHV0ID0gSm9pLnZhbGlkYXRlKHJlcS5ib2R5LCBzY2hlbWEpO1xyXG4gIGlmIChvdXRwdXQuZXJyb3IgIT0gbnVsbCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgIGVycm9yOiBgJHtvdXRwdXQuZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlfWBcclxuICAgIH0pO1xyXG4gIH1cclxuICBuZXh0KCk7XHJcbn07XHJcbmV4cG9ydCB7IHNpZ25VcCwgc2lnbkluLCBjcmVhdGVSZWRmbGFnLCBlZGl0bG9jYXRpb24sIGVkaXRjb21tZW50IH07XHJcbiJdfQ==