'use strict';var cov_2z6b8oafm=function(){var path="C:\\Users\\CharisUAS\\Desktop\\Broadcaster\\server\\controllers\\redflagController.js";var hash="8b3a5897b03f0b210b97af66ea85045c5268159f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\CharisUAS\\Desktop\\Broadcaster\\server\\controllers\\redflagController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:19},end:{line:7,column:563}},"2":{start:{line:7,column:76},end:{line:7,column:347}},"3":{start:{line:7,column:89},end:{line:7,column:90}},"4":{start:{line:7,column:134},end:{line:7,column:142}},"5":{start:{line:7,column:144},end:{line:7,column:199}},"6":{start:{line:7,column:200},end:{line:7,column:231}},"7":{start:{line:7,column:232},end:{line:7,column:286}},"8":{start:{line:7,column:259},end:{line:7,column:286}},"9":{start:{line:7,column:287},end:{line:7,column:345}},"10":{start:{line:7,column:350},end:{line:7,column:559}},"11":{start:{line:7,column:407},end:{line:7,column:475}},"12":{start:{line:7,column:423},end:{line:7,column:475}},"13":{start:{line:7,column:476},end:{line:7,column:536}},"14":{start:{line:7,column:493},end:{line:7,column:536}},"15":{start:{line:7,column:537},end:{line:7,column:556}},"16":{start:{line:11,column:16},end:{line:11,column:45}},"17":{start:{line:13,column:50},end:{line:13,column:151}},"18":{start:{line:13,column:92},end:{line:13,column:149}},"19":{start:{line:15,column:24},end:{line:100,column:3}},"20":{start:{line:17,column:4},end:{line:17,column:45}},"21":{start:{line:20,column:2},end:{line:97,column:6}},"22":{start:{line:23,column:23},end:{line:23,column:52}},"23":{start:{line:24,column:6},end:{line:28,column:9}},"24":{start:{line:33,column:16},end:{line:33,column:34}},"25":{start:{line:34,column:6},end:{line:39,column:7}},"26":{start:{line:35,column:8},end:{line:38,column:11}},"27":{start:{line:40,column:6},end:{line:44,column:9}},"28":{start:{line:49,column:18},end:{line:49,column:76}},"29":{start:{line:50,column:6},end:{line:55,column:7}},"30":{start:{line:51,column:8},end:{line:54,column:11}},"31":{start:{line:56,column:6},end:{line:59,column:9}},"32":{start:{line:64,column:6},end:{line:64,column:67}},"33":{start:{line:66,column:6},end:{line:69,column:9}},"34":{start:{line:74,column:20},end:{line:74,column:99}},"35":{start:{line:75,column:6},end:{line:82,column:9}},"36":{start:{line:87,column:20},end:{line:87,column:101}},"37":{start:{line:88,column:6},end:{line:95,column:9}},"38":{start:{line:99,column:2},end:{line:99,column:27}},"39":{start:{line:102,column:0},end:{line:102,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:31},end:{line:7,column:561}},line:7},"1":{name:"defineProperties",decl:{start:{line:7,column:42},end:{line:7,column:58}},loc:{start:{line:7,column:74},end:{line:7,column:349}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:7,column:357},end:{line:7,column:358}},loc:{start:{line:7,column:405},end:{line:7,column:558}},line:7},"3":{name:"_classCallCheck",decl:{start:{line:13,column:9},end:{line:13,column:24}},loc:{start:{line:13,column:48},end:{line:13,column:153}},line:13},"4":{name:"(anonymous_4)",decl:{start:{line:15,column:24},end:{line:15,column:25}},loc:{start:{line:15,column:36},end:{line:100,column:1}},line:15},"5":{name:"redflagController",decl:{start:{line:16,column:11},end:{line:16,column:28}},loc:{start:{line:16,column:31},end:{line:18,column:3}},line:16},"6":{name:"create",decl:{start:{line:22,column:20},end:{line:22,column:26}},loc:{start:{line:22,column:37},end:{line:29,column:5}},line:22},"7":{name:"viewredflags",decl:{start:{line:32,column:20},end:{line:32,column:32}},loc:{start:{line:32,column:43},end:{line:45,column:5}},line:32},"8":{name:"viewSpecificflag",decl:{start:{line:48,column:20},end:{line:48,column:36}},loc:{start:{line:48,column:47},end:{line:60,column:5}},line:48},"9":{name:"_delete",decl:{start:{line:63,column:20},end:{line:63,column:27}},loc:{start:{line:63,column:38},end:{line:70,column:5}},line:63},"10":{name:"editLocation",decl:{start:{line:73,column:20},end:{line:73,column:32}},loc:{start:{line:73,column:43},end:{line:83,column:5}},line:73},"11":{name:"editComment",decl:{start:{line:86,column:20},end:{line:86,column:31}},loc:{start:{line:86,column:42},end:{line:96,column:5}},line:86}},branchMap:{"0":{loc:{start:{line:7,column:168},end:{line:7,column:198}},type:"binary-expr",locations:[{start:{line:7,column:168},end:{line:7,column:189}},{start:{line:7,column:193},end:{line:7,column:198}}],line:7},"1":{loc:{start:{line:7,column:232},end:{line:7,column:286}},type:"if",locations:[{start:{line:7,column:232},end:{line:7,column:286}},{start:{line:7,column:232},end:{line:7,column:286}}],line:7},"2":{loc:{start:{line:7,column:407},end:{line:7,column:475}},type:"if",locations:[{start:{line:7,column:407},end:{line:7,column:475}},{start:{line:7,column:407},end:{line:7,column:475}}],line:7},"3":{loc:{start:{line:7,column:476},end:{line:7,column:536}},type:"if",locations:[{start:{line:7,column:476},end:{line:7,column:536}},{start:{line:7,column:476},end:{line:7,column:536}}],line:7},"4":{loc:{start:{line:13,column:50},end:{line:13,column:151}},type:"if",locations:[{start:{line:13,column:50},end:{line:13,column:151}},{start:{line:13,column:50},end:{line:13,column:151}}],line:13},"5":{loc:{start:{line:34,column:6},end:{line:39,column:7}},type:"if",locations:[{start:{line:34,column:6},end:{line:39,column:7}},{start:{line:34,column:6},end:{line:39,column:7}}],line:34},"6":{loc:{start:{line:50,column:6},end:{line:55,column:7}},type:"if",locations:[{start:{line:50,column:6},end:{line:55,column:7}},{start:{line:50,column:6},end:{line:55,column:7}}],line:50}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"8b3a5897b03f0b210b97af66ea85045c5268159f"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_2z6b8oafm.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _createClass=(cov_2z6b8oafm.s[1]++,function(){cov_2z6b8oafm.f[0]++;function defineProperties(target,props){cov_2z6b8oafm.f[1]++;cov_2z6b8oafm.s[2]++;for(var i=(cov_2z6b8oafm.s[3]++,0);i<props.length;i++){var descriptor=(cov_2z6b8oafm.s[4]++,props[i]);cov_2z6b8oafm.s[5]++;descriptor.enumerable=(cov_2z6b8oafm.b[0][0]++,descriptor.enumerable)||(cov_2z6b8oafm.b[0][1]++,false);cov_2z6b8oafm.s[6]++;descriptor.configurable=true;cov_2z6b8oafm.s[7]++;if("value"in descriptor){cov_2z6b8oafm.b[1][0]++;cov_2z6b8oafm.s[8]++;descriptor.writable=true;}else{cov_2z6b8oafm.b[1][1]++;}cov_2z6b8oafm.s[9]++;Object.defineProperty(target,descriptor.key,descriptor);}}cov_2z6b8oafm.s[10]++;return function(Constructor,protoProps,staticProps){cov_2z6b8oafm.f[2]++;cov_2z6b8oafm.s[11]++;if(protoProps){cov_2z6b8oafm.b[2][0]++;cov_2z6b8oafm.s[12]++;defineProperties(Constructor.prototype,protoProps);}else{cov_2z6b8oafm.b[2][1]++;}cov_2z6b8oafm.s[13]++;if(staticProps){cov_2z6b8oafm.b[3][0]++;cov_2z6b8oafm.s[14]++;defineProperties(Constructor,staticProps);}else{cov_2z6b8oafm.b[3][1]++;}cov_2z6b8oafm.s[15]++;return Constructor;};}());/* eslint-disable consistent-return */ /* eslint-disable node/no-unsupported-features/es-syntax */var _redflags=(cov_2z6b8oafm.s[16]++,require('../models/redflags'));function _classCallCheck(instance,Constructor){cov_2z6b8oafm.f[3]++;cov_2z6b8oafm.s[17]++;if(!(instance instanceof Constructor)){cov_2z6b8oafm.b[4][0]++;cov_2z6b8oafm.s[18]++;throw new TypeError("Cannot call a class as a function");}else{cov_2z6b8oafm.b[4][1]++;}}var redflagController=(cov_2z6b8oafm.s[19]++,function(){cov_2z6b8oafm.f[4]++;function redflagController(){cov_2z6b8oafm.f[5]++;cov_2z6b8oafm.s[20]++;_classCallCheck(this,redflagController);}cov_2z6b8oafm.s[21]++;_createClass(redflagController,null,[{key:'create',value:function create(req,res){cov_2z6b8oafm.f[6]++;var newRedflag=(cov_2z6b8oafm.s[22]++,_redflags.redflag.create(req));cov_2z6b8oafm.s[23]++;return res.status(201).json({status:201,message:'Redflag successfully created',data:newRedflag});}},{key:'viewredflags',value:function viewredflags(req,res){cov_2z6b8oafm.f[7]++;var all=(cov_2z6b8oafm.s[24]++,_redflags.redflags);cov_2z6b8oafm.s[25]++;if(all.length===0){cov_2z6b8oafm.b[5][0]++;cov_2z6b8oafm.s[26]++;return res.status(404).json({status:404,error:'Redflags not found'});}else{cov_2z6b8oafm.b[5][1]++;}cov_2z6b8oafm.s[27]++;return res.status(200).json({status:200,message:'Success. List of all red-flags',data:_redflags.redflags});}},{key:'viewSpecificflag',value:function viewSpecificflag(req,res){cov_2z6b8oafm.f[8]++;var found=(cov_2z6b8oafm.s[28]++,_redflags.redflag.findRedFlag(parseInt(req.params.id,10)));cov_2z6b8oafm.s[29]++;if(found){cov_2z6b8oafm.b[6][0]++;cov_2z6b8oafm.s[30]++;return res.status(200).json({status:200,data:found});}else{cov_2z6b8oafm.b[6][1]++;}cov_2z6b8oafm.s[31]++;return res.status(404).json({status:404,error:'Redflag not found'});}},{key:'delete',value:function _delete(req,res){cov_2z6b8oafm.f[9]++;cov_2z6b8oafm.s[32]++;_redflags.redflag.deleteRedFlag(parseInt(req.params.id,10));/* istanbul ignore else */cov_2z6b8oafm.s[33]++;return res.status(200).json({status:200,message:'Redflag successfully deleted'});}},{key:'editLocation',value:function editLocation(req,res){cov_2z6b8oafm.f[10]++;var updated=(cov_2z6b8oafm.s[34]++,_redflags.redflag.commentRedflag(parseInt(req.params.id,10),req.body.comment));cov_2z6b8oafm.s[35]++;return res.status(200).json({status:200,message:'Updated red-flag comment',data:{id:updated.id,comment:updated.comment}});}},{key:'editComment',value:function editComment(req,res){cov_2z6b8oafm.f[11]++;var updated=(cov_2z6b8oafm.s[36]++,_redflags.redflag.locationRedflag(parseInt(req.params.id,10),req.body.location));cov_2z6b8oafm.s[37]++;return res.status(200).json({status:200,message:'Updated red-flag location',data:{id:updated.id,comment:updated.location}});}}]);cov_2z6b8oafm.s[38]++;return redflagController;}());cov_2z6b8oafm.s[39]++;exports.default=redflagController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZGZsYWdDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbInJlZGZsYWdDb250cm9sbGVyIiwicmVxIiwicmVzIiwibmV3UmVkZmxhZyIsInJlZGZsYWciLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImRhdGEiLCJhbGwiLCJyZWRmbGFncyIsImxlbmd0aCIsImVycm9yIiwiZm91bmQiLCJmaW5kUmVkRmxhZyIsInBhcnNlSW50IiwicGFyYW1zIiwiaWQiLCJkZWxldGVSZWRGbGFnIiwidXBkYXRlZCIsImNvbW1lbnRSZWRmbGFnIiwiYm9keSIsImNvbW1lbnQiLCJsb2NhdGlvblJlZGZsYWciLCJsb2NhdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O3FqQkFBQTtBQUNBOzs7QUFDQTs7OztJQUVNQSxpQjs7Ozs7OzsyQkFDVUMsRyxFQUFLQyxHLEVBQUs7QUFDdEIsVUFBTUMsYUFBYUMsa0JBQVFDLE1BQVIsQ0FBZUosR0FBZixDQUFuQjtBQUNBLGFBQU9DLElBQUlJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkQsZ0JBQVEsR0FEa0I7QUFFMUJFLGlCQUFTLDhCQUZpQjtBQUcxQkMsY0FBTU47QUFIb0IsT0FBckIsQ0FBUDtBQUtEOzs7aUNBRW1CRixHLEVBQUtDLEcsRUFBSztBQUM1QixVQUFNUSxNQUFNQyxrQkFBWjtBQUNBLFVBQUlELElBQUlFLE1BQUosS0FBZSxDQUFuQixFQUFzQjtBQUNwQixlQUFPVixJQUFJSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJELGtCQUFRLEdBRGtCO0FBRTFCTyxpQkFBTztBQUZtQixTQUFyQixDQUFQO0FBSUQ7QUFDRCxhQUFPWCxJQUFJSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJELGdCQUFRLEdBRGtCO0FBRTFCRSxpQkFBUyxnQ0FGaUI7QUFHMUJDLGNBQU1FO0FBSG9CLE9BQXJCLENBQVA7QUFLRDs7O3FDQUV1QlYsRyxFQUFLQyxHLEVBQUs7QUFDaEMsVUFBTVksUUFBUVYsa0JBQVFXLFdBQVIsQ0FBb0JDLFNBQVNmLElBQUlnQixNQUFKLENBQVdDLEVBQXBCLEVBQXdCLEVBQXhCLENBQXBCLENBQWQ7QUFDQSxVQUFJSixLQUFKLEVBQVc7QUFDVCxlQUFPWixJQUFJSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJELGtCQUFRLEdBRGtCO0FBRTFCRyxnQkFBTUs7QUFGb0IsU0FBckIsQ0FBUDtBQUlEO0FBQ0QsYUFBT1osSUFBSUksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCRCxnQkFBUSxHQURrQjtBQUUxQk8sZUFBTztBQUZtQixPQUFyQixDQUFQO0FBSUQ7Ozs0QkFFYVosRyxFQUFLQyxHLEVBQUs7QUFDdEJFLHdCQUFRZSxhQUFSLENBQXNCSCxTQUFTZixJQUFJZ0IsTUFBSixDQUFXQyxFQUFwQixFQUF3QixFQUF4QixDQUF0QjtBQUNBO0FBQ0EsYUFBT2hCLElBQUlJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkQsZ0JBQVEsR0FEa0I7QUFFMUJFLGlCQUFTO0FBRmlCLE9BQXJCLENBQVA7QUFJRDs7O2lDQUVtQlAsRyxFQUFLQyxHLEVBQUs7QUFDNUIsVUFBTWtCLFVBQVVoQixrQkFBUWlCLGNBQVIsQ0FDZEwsU0FBU2YsSUFBSWdCLE1BQUosQ0FBV0MsRUFBcEIsRUFBd0IsRUFBeEIsQ0FEYyxFQUVkakIsSUFBSXFCLElBQUosQ0FBU0MsT0FGSyxDQUFoQjtBQUlBLGFBQU9yQixJQUFJSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJELGdCQUFRLEdBRGtCO0FBRTFCRSxpQkFBUywwQkFGaUI7QUFHMUJDLGNBQU07QUFDSlMsY0FBSUUsUUFBUUYsRUFEUjtBQUVKSyxtQkFBU0gsUUFBUUc7QUFGYjtBQUhvQixPQUFyQixDQUFQO0FBUUQ7OztnQ0FFa0J0QixHLEVBQUtDLEcsRUFBSztBQUMzQixVQUFNa0IsVUFBVWhCLGtCQUFRb0IsZUFBUixDQUNkUixTQUFTZixJQUFJZ0IsTUFBSixDQUFXQyxFQUFwQixFQUF3QixFQUF4QixDQURjLEVBRWRqQixJQUFJcUIsSUFBSixDQUFTRyxRQUZLLENBQWhCO0FBSUEsYUFBT3ZCLElBQUlJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkQsZ0JBQVEsR0FEa0I7QUFFMUJFLGlCQUFTLDJCQUZpQjtBQUcxQkMsY0FBTTtBQUNKUyxjQUFJRSxRQUFRRixFQURSO0FBRUpLLG1CQUFTSCxRQUFRSztBQUZiO0FBSG9CLE9BQXJCLENBQVA7QUFRRDs7Ozs7O2tCQUdZekIsaUIiLCJmaWxlIjoicmVkZmxhZ0NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvQ2hhcmlzVUFTL0Rlc2t0b3AvQnJvYWRjYXN0ZXIvc2VydmVyL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby11bnN1cHBvcnRlZC1mZWF0dXJlcy9lcy1zeW50YXggKi9cclxuaW1wb3J0IHsgcmVkZmxhZ3MsIHJlZGZsYWcgfSBmcm9tICcuLi9tb2RlbHMvcmVkZmxhZ3MnO1xyXG5cclxuY2xhc3MgcmVkZmxhZ0NvbnRyb2xsZXIge1xyXG4gIHN0YXRpYyBjcmVhdGUocmVxLCByZXMpIHtcclxuICAgIGNvbnN0IG5ld1JlZGZsYWcgPSByZWRmbGFnLmNyZWF0ZShyZXEpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAyMDEsXHJcbiAgICAgIG1lc3NhZ2U6ICdSZWRmbGFnIHN1Y2Nlc3NmdWxseSBjcmVhdGVkJyxcclxuICAgICAgZGF0YTogbmV3UmVkZmxhZ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdmlld3JlZGZsYWdzKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCBhbGwgPSByZWRmbGFncztcclxuICAgIGlmIChhbGwubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgc3RhdHVzOiA0MDQsXHJcbiAgICAgICAgZXJyb3I6ICdSZWRmbGFncyBub3QgZm91bmQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzLiBMaXN0IG9mIGFsbCByZWQtZmxhZ3MnLFxyXG4gICAgICBkYXRhOiByZWRmbGFnc1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdmlld1NwZWNpZmljZmxhZyhyZXEsIHJlcykge1xyXG4gICAgY29uc3QgZm91bmQgPSByZWRmbGFnLmZpbmRSZWRGbGFnKHBhcnNlSW50KHJlcS5wYXJhbXMuaWQsIDEwKSk7XHJcbiAgICBpZiAoZm91bmQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICBkYXRhOiBmb3VuZFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogNDA0LFxyXG4gICAgICBlcnJvcjogJ1JlZGZsYWcgbm90IGZvdW5kJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZGVsZXRlKHJlcSwgcmVzKSB7XHJcbiAgICByZWRmbGFnLmRlbGV0ZVJlZEZsYWcocGFyc2VJbnQocmVxLnBhcmFtcy5pZCwgMTApKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgbWVzc2FnZTogJ1JlZGZsYWcgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBlZGl0TG9jYXRpb24ocmVxLCByZXMpIHtcclxuICAgIGNvbnN0IHVwZGF0ZWQgPSByZWRmbGFnLmNvbW1lbnRSZWRmbGFnKFxyXG4gICAgICBwYXJzZUludChyZXEucGFyYW1zLmlkLCAxMCksXHJcbiAgICAgIHJlcS5ib2R5LmNvbW1lbnRcclxuICAgICk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgbWVzc2FnZTogJ1VwZGF0ZWQgcmVkLWZsYWcgY29tbWVudCcsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBpZDogdXBkYXRlZC5pZCxcclxuICAgICAgICBjb21tZW50OiB1cGRhdGVkLmNvbW1lbnRcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZWRpdENvbW1lbnQocmVxLCByZXMpIHtcclxuICAgIGNvbnN0IHVwZGF0ZWQgPSByZWRmbGFnLmxvY2F0aW9uUmVkZmxhZyhcclxuICAgICAgcGFyc2VJbnQocmVxLnBhcmFtcy5pZCwgMTApLFxyXG4gICAgICByZXEuYm9keS5sb2NhdGlvblxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICBtZXNzYWdlOiAnVXBkYXRlZCByZWQtZmxhZyBsb2NhdGlvbicsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBpZDogdXBkYXRlZC5pZCxcclxuICAgICAgICBjb21tZW50OiB1cGRhdGVkLmxvY2F0aW9uXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmVkZmxhZ0NvbnRyb2xsZXI7XHJcbiJdfQ==